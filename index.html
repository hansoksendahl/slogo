
<!-- Markup generators make you so damn lazy -->

<!-- Writing all of this markup was like running a marathon for me. -Hans -->
<!DOCTYPE html>
<html>
  <head>
    <title>Slogo: A programming language with a healthy dose of slugs</title>
    <link type="text/css" href="./public/styles/import.css" rel="stylesheet">
    <link type="text/css" href="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.11/themes/south-street/jquery-ui.css" rel="stylesheet">
  </head>

  <body>
    <img id="logo" src="./public/images/logo.png" style="display:block; margin:0 auto;">

    <section id="docs" style="width: 800px; margin: 0 auto; font-size: 1.4em">
      <header class="tabs">
        <ul>
          <li><a href="#tabs-1">Introduction</a></li>
          <li><a href="#tabs-2">Abstract</a></li>
          <li><a href="#tabs-3">Syntax</a></li>
          <li><a href="#tabs-4">Annotated Source</a></li>
          <li><a href="#tabs-5">License</a></li>
          <li><a href="#tabs-6">Try It</a></li>
        </ul>
      </header>

      <section id="tabs-1">
       <textarea class="markdown">
# Slogo
**Slogo** is a formal grammar which compiles into Javascript.  It was designed
to remove some of the conceptual hurdles from writing WebGL simulations.

_Note: The specification is still under development (pre-alpha)._

## Pre-Requisites

Slogo requires a browser which includes the [WebGL specification](http://www.khronos.org/registry/webgl/specs/1.0/).

It has been tested on the latest versions of [Google Chrome](http://www.google.com/chrome/), [Firefox](http://www.mozilla.com/en-US/firefox/new/), and [Safari](http://www.apple.com/safari/).

## Mascot

Slogo the slug
![Slogo the slug](./public/images/Slogo.png "Slogo the slug")

## Tutorials

The tutorials walk the reader through using Slogo to develop 3D graphics
with [Three.js](https://github.com/mrdoob/three.js/) (A 3D engine for Javascript).

1. [Demo #1, Introduction to Slogo](./demo00.html)
2. [Demo #2, Animation](./demo01.html)
3. [Demo #3, Interactitvity](./demo02.html)
4. [Demo #4, Lighting](./demo03.html)
5. [Demo #5, Textures](./demo04.html)
        </textarea>
      </section>

      <section id="tabs-2">
        <textarea class="markdown">
# Slogo

Slogo is a [context-free grammar](http://en.wikipedia.org/wiki/Context_free_grammar)
which leverages several existing Javascript libraries.

Most notable of these libraries are:

* [Jison](#jison) - a parser generator
* [WebGL](#webgl) - a 3d graphics specification

## Jison

Slogo makes use of the [Jison](https://github.com/zaach/jison)
Javascript library to simplify the process of defining a formal grammar.  Jison
takes a context-free grammar as input and produces a javascript file capable of
parsing the specified grammar.

Jison has modes to recognize languages described by the following grammars:

* [LALR(1)](http://en.wikipedia.org/wiki/LALR_parser)
* [LR(0)](http://en.wikipedia.org/wiki/LR_parser)
* [SLR(1)](http://en.wikipedia.org/wiki/SLR_grammar)
* [LR(1)](http://en.wikipedia.org/wiki/Canonical_LR_parser) _canonical LR parsers_

It also has a special mode for generating
[LL(1)](http://en.wikipedia.org/wiki/LL_parser) parse tables

> ### Bison
>
> Jison is modeled after [Bison](http://www.gnu.org/software/bison/) a parser
> generator for the C progamming language.  Bison is a parser generator that
> converts an annotated context-free grammar into an LALR(1) or
> [GLR](http://en.wikipedia.org/wiki/Glr_parser) parser for that grammar.

## WebGL

[WebGL](http://en.wikipedia.org/wiki/WebGL) is a recently released specification
for modern browsers.  It extends Javascript with the ability to generate 3D
graphics.  WebGL enables the creation of hardware-accelerated graphics as it
communicates directly to the <abbr title="Graphics Processing Unit">GPU</abbr>
on the host computer.
        </textarea>
      </section>

      <section id="tabs-3">
        <textarea class="markdown">
The Slogo formal grammar is built on and compiles into Javascript.  While Slogo retains some
elements of Javascript the syntax differs in some places.

If you have some familiarity with Logo, Ruby, or Javascript there are some [tutorials](#tutorials) to get you started.

# Documentation

## Table of Contents

* [Comments](#comments)
* Data types
  * [arrays](#arrays), [blocks](#blocks), [booleans](#booleans),
    [nil](#nil), [numbers](#numbers), [objects](#objects),
    [ranges](#ranges) [strings](#strings), [@](#metaobject)
* [Variables](#variables)
  * [let](#let), [set](#set)
* [Equality Operators](#equalityoperators)
* [Comparison Operators](#comparisonoperators)
* [Logic Operators](#logicoperators)
  * [and](#andoperator), [not](#unarynotoperator), [or](#oroperator)
    [xor](#xoroperatorexclusiveor)
* [Classes](#classes)
  * [@variables](#classvariables), [parent statements](#parentstatements)
* [Math](#math)
  * [exponent operator](#exponentoperator), [factorial operator](#factorialoperator), [percentage operator](#percentageoperator),
    [difference](#difference), [mean](#mean), [median](#median),
    [mode](#mode), [product](#product), [quotient](#quotient),
    [range](#range), [randomInt](#randomint), [sum](#sum),

## Comments

Any line which begins with a **number sign** is a comment.

    # Comments don't get run they just provide documentation
    alert('OMG!')

## Arrays

An array is a list containing any data type surrounded by **square brackets** and seperated by **commas**.

    [1, 2, 3, 4]

&nbsp;

    ['wetsuit', 'sunscreen', 'surfboard']

## Blocks

A block is a way of grouping instructions in Slogo so you can pass them around
your program.  Blocks are equivalent to Javascript functions.

A block is opened with the **to** keyword and closed with the **end** keyword.

    to sayHi
      alert("Hi there!")
    end

### Block Returns

You can make a block return a value whenever it is invoked.  Block returns are
denoted by a **left arrow** followed by a value.

    to baconDispenser
      <- "bacon"
    end

### Block Arguments

Block arguments are enclosed in **pipe** characters and separated by **commas**.

    to add |a, b|
      <- a + b
    end

## Booleans

Boolean values are slightly extended from their Javascript equivalents with
`yes` and `no` values in addition to `true` and `false`.

    yes == true

&nbsp;

    no == false

## Objects

An object is a special kind of list enclosed in **curly braces**.

You can think of on object as a dictionary that contains **keys** (words) and
their associated **values** (definitions).

    {"mustache": "Burt Reynolds", "nunchucks": "Chuck Norris"}

## Nil

Nil is a special value that doesn't actually have a value.

Nil simply means **undefined** or that an expression doesn't return a value.

    nil === undefined
    nil === void(0)

## Numbers

Numbers are pretty straight forward.  Slogo supports both integers and floating-point numbers.

### Integers
    786

### Floating-point numbers
    0.7236067977499789

## Ranges

Ranges are arrays with numeric entries of a specified length.  Slogo handles
iteration with ranges and the forEach operator.

    [1..10].forEach(to |i| alert(i) end)

### Inclusive Ranges

Inclusive ranges are denoted by an array with two integers separated by
**two periods**.

    [1..5] == [1, 2, 3, 4, 5]

Exclusive ranges are denoted by an array with two integers separated by **three
periods**.

    [1...5] == [1, 2, 3, 4]

## Strings

Strings are any kind of character surrounded by **quotes**.

### Double quoted strings
    "Hello world!"

### Single quoted strings
    'Good morning!'

### String Interpolation

Double quoted strings support Ruby style string interpolation.

    let greeting = "Hello"
    alert("#{greeting} World!")

## Meta Object

The **at** symbol refers to whatever scope a statement is currently executing
in.  It translates to the `this` keyword in Javascript.

    to person |name|
      set(@name, name)
      <- @
    end

    person('Bob') # returns {name: 'Bob'}

## Variables

Variables are named containers for values that we want to use later.  Slogo uses
the keywords **let** and **set** to define variables.

### Let

When you want to define a new variable it's best to use `let`.  Let defines a
new scope and assigns a variable to it.

    let animalSound = "MoOOOo"

### Set

The keyword `set` is used to change the value of variables which **already exist**.

    set animalSound = 'Oink Oink'

## Equality Operators

Equality operators compare one expression to another returning either
`yes` (true) or `no` (false).

### Equivalent

    1 + 1 == 2

### Not Equivalent

    2 + 2 != 5

### Equivalent and Same Type

    'test' === ['t', 'e', 's', 't'].join('')

### Not Equivalent and Same Type

    'test' !== ['t', 'e', 's', 't']

## Comparison Operators

Comparison operators compare one mathematical expression to another returning
either `yes` (true) or `no` (false).

### Less Than

    1 < 2 == yes

### Greater Than

    42 > 5 == yes

### Less Than or Equal To

    ( 10 <= 5 + 5 ) == yes

### Greater Than or Equal To

    ( 5 >= 2 + 3 ) == yes

## Logic Operators
We have four logical operators in Slogo.  Logic operators work on any expression
that returns **yes**, **no**, **nil**, **0**, or **1**

### And operator
    yes and yes # returns yes
    1 and 1     # returns 1

### Unary Not operator
    not yes # returns no

### Or operator
    yes or no   # returns yes
    1 or 0      # returns 1

### Xor operator (exclusive or)
    yes xor yes # returns no
    1 xor 1 # returns 0

## Classes

Slogo provides support for some basic [object-oriented programming](http://en.wikipedia.org/wiki/Object-oriented_programming).
Slogo extends Javascript's prototyping with the ability to define classes.

    class Example
      to constructor
        # do some stuff
      end
    end

### Class Variables

Class variables are variable names prefixed with an **at** symbol.

    set @favoriteFood = 'Sushi'

### Class Inheritance

Slogo provides support for class inheritance through the **extends** keyword.

    class Consciousness
      to think
        let thought = @thoughts[randomInt(@thoughts.length)]
        alert("I'm thinking about #{thought}.")
      end
    end

    class Student extends Consciousness
      to constructor
        set(@thoughts, ['homework', 'ennui', 'the weekend'])
      end
    end


### Parent Statements

When a class is extended the **parent** keyword refers to the same-named
procedure of an ancestor class.

    class Truck
      to constructor |name|
        set @name = 'Truck'
      end
    end

    class AwesomeTruck extends Truck
      to constructor
        parent.call(@)
        set @name = "Awesome #{@name}"
      end
    end

## Math

One of the ideals behind Slogo is that math functions should be first class
citizens.  Most of the math functions and constants normally available in
Javascript's `Math` object are available in Slogo as a keyword.

    PI # returns 3.141592653589793
    ceil(9.5) # returns 10

* Constants
  * E, LN2, LN10, LOG2E, LOG10E, PI, SQRT1_2, SQRT2
* Functions
  * Trigonometry
     * acos, asin, atan, atan2, cos, sin, tan
  * Logarithms
     * exp, log
  * General
     * abs, ceil, floor, max, min, random, round, sqrt

Slogo also provides some extended math functions which can be included in the
preamble section of any program output.  These functions are detailed below.

## Exponent Operator

The exponent operator replaces the `pow` function.

    5 ^ 2 == 25

## Factorial Operator

The factorial operator will work on any expression which returns an **integer**.

    5! == 120

## Percentage Operator

The percent operator turns a numeric value into a pencentage.

    80% == 0.8

## Difference

Returns the difference between several subsequent subtract operations.

    difference(10, 3, 2) == 5

## Mean

Returns the mean of several numeric values.

    mean(2, 10) == 6

## Median

Returns the median of several numeric values.

    median(5, 1, 7) == 5

## Mode

Returns the mode of several numeric values.

    mode(2, 10, 4, 2) == 2

## Product

Returns the product of several successive multiply operations.

    product(2, 5, 5) == 50

## Quotient

Returns the quotient of several successive divide operations.

    quotient(100, 2, 5) == 10

## Range

Returns the range of several numeric values.

    range(10, 5, 3, 2) == 8

## RandomInt

Returns a random integer between a value and zero.

    ( randomInt(10) <= 10 ) == yes
    ( randomInt(-5) >= -5 ) == yes
<br>
<br>

        </textarea>
      </section>

      <section id="tabs-4">
        <textarea class="markdown">
# Annotated Source

Compiling is a three-stage process in Slogo.  The compiler consists of  **parser**,
**scanner**, and **generator** modules.  These components work together to convert
a Slogo program into a Javascript program.

### Components

* Scanner - scans the input stream, and returns a stream of tokens
* Parser - searches for named groups in the tokens, returning nodes in the syntax tree
* Generator - climbs the syntax tree, generating Javascript output
  * Syntax Table - keeps track of any state specific information
  * Preamble - extended functions to include in the generator output

# Files

* [grammar.js](http://hansineffect.github.com/Slogo/docs/grammar.html) - contains the **scanner** and **parser** modules
  * [helpers.js](http://hansineffect.github.com/Slogo/docs/helpers.html) - contains functions for defining scanning rules and <abbr title="Backus-Naur Form">BNF</abbr> productions
* [scope.js](http://hansineffect.github.com/Slogo/docs/scope.html) - contains the **generator** module and syntax table
  * [preamble.js](http://hansineffect.github.com/Slogo/docs/preamble.html) - contains functions which extend Javascript

        </textarea>
      </section>

      <section id="tabs-5">
        <textarea class="markdown">

# License agreement

Slogo is **free** software released under the MIT user license.  The MIT user
license is the most permissive license out there.
 
> Copyright (c) 2011 Hans Oksendahl
> 
> Permission is hereby granted, free of charge, to any person
> obtaining a copy of this software and associated documentation
> files (the "Software"), to deal in the Software without
> restriction, including without limitation the rights to use,
> copy, modify, merge, publish, distribute, sublicense, and/or sell
> copies of the Software, and to permit persons to whom the
> Software is furnished to do so, subject to the following
> conditions:
> 
> The above copyright notice and this permission notice shall be
> included in all copies or substantial portions of the Software.
> 
> THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
> EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
> OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
> NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
> HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
> WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
> FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
> OTHER DEALINGS IN THE SOFTWARE.
        </textarea>
      </section>

      <section id="tabs-6">
        <textarea class="markdown">
# Try Slogo Online
The Slogo project includes a browser based <abbr title="Integrated Development Environment">IDE</abbr>
so you can get started creating your own Slogo simulations.

Just [click here](./app.html) to get started.
        </textarea>
      </section>
    </section>

    <!-- We're going jQuery this round -->

    <!-- Include jQuery & jQuery UI -->
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jqueryui/1.8.11/jquery-ui.min.js"></script>

    <!-- Include our scripts and plugins -->

    <!-- Jeremy Hynds "create" event for jQuery -->
    <script type="text/javascript" src="./public/scripts/jquery-create-event.js"></script>

    <!-- The JSS Plugin ...Winning! -->
    <script type="text/javascript" src="./public/scripts/jquery-jss.js"></script>

    <!-- Showdown the Markdown library for Javascript -->
    <script type="text/javascript" src="https://github.com/coreyti/showdown/raw/master/src/showdown.js"></script>

    <!-- Our app script -->
    <script type="text/javascript" src="./public/scripts/index.js"></script>
  </body>
</html> 
